<div class="item task-card ui card fade-in" role="listitem" aria-label="Task: {{ task.title }}">
    <div class="content">
        <div class="task-header">
            <div class="task-title-wrapper">
                <span class="task-title bold-title">{{ task.title }}</span>
                <time class="created-date" datetime="{{ task.Created_at }}">
                    <i class="clock outline icon"></i> {{ task.Created_at.strftime('%I:%M %p').lower() }}
                </time>
            </div>
            <div class="task-actions">
                <button class="ui icon button grey" onclick="location.href='/archive/{{ task.id }}'" aria-label="Archive">
                    <i class="archive icon"></i>
                </button>
                <button class="ui icon button olive" onclick="location.href='/update/{{ task.id }}'" aria-label="Toggle Status">
                    <i class="{{ 'undo' if task.complete else 'check' }} icon"></i>
                </button>
                <button class="ui icon button red" onclick="location.href='/delete/{{ task.id }}'" aria-label="Delete">
                    <i class="trash icon"></i>
                </button>
            </div>
        </div>
        <div class="task-meta" style="display: flex; align-items: flex-end; justify-content: space-between; min-height: 48px;">
            <div>
                {% if task.day_of_week %}
                    <span class="ui label">
                        <i class="calendar alternate outline icon"></i> {{ task.day_of_week }}
                    </span>
                {% endif %}
                <span class="ui label {{ 'green' if task.complete else 'red' }}">
                    <i class="{{ 'check' if task.complete else 'hourglass half' }} icon"></i>
                    {{ 'Completed' if task.complete else 'Pending' }}
                </span>
            </div>
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 2px;">
                <i class="clock icon"></i>
                <span>{% if task.end_time %}Task End At: {{ task.end_time }}{% endif %}</span>
            </div>
        </div>
    </div>
</div>