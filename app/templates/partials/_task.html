<div class="item task-card ui card fade-in" role="listitem" aria-label="Task: {{ task.title }}">
    <div class="content">
        <div class="task-header">
            <div class="task-title-wrapper">
                <span class="task-title bold-title">{{ task.title }}</span>
                <time class="created-date" datetime="{{ task.Created_at }}">
                    <i class="fa-regular fa-clock"></i> {{ task.Created_at.strftime('%I:%M %p').lower() }}
                </time>
            </div>
            <div class="task-actions">
                <button class="ui icon button grey" onclick="location.href='{{ url_for('tasks.archive', todo_id=task.id) }}';" aria-label="Archive task">
                    <i class="fa-solid fa-box-archive"></i>
                </button>
                <button class="ui icon button olive" onclick="location.href='{{ url_for('tasks.update', todo_id=task.id) }}';" aria-label="Toggle task status">
                    <i class="fa-solid {{ 'fa-undo' if task.complete else 'fa-check' }}"></i>
                </button>
                <button class="ui icon button red" onclick="location.href='{{ url_for('tasks.delete', todo_id=task.id) }}';" aria-label="Delete task">
                    <i class="fa-solid fa-trash"></i>
                </button>
            </div>
        </div>
        <div class="task-meta">
            <div class="task-meta-left">
                {% if task.day_of_week %}
                    <span class="ui label">
                        <i class="fa-regular fa-calendar"></i> {{ task.day_of_week }}
                    </span>
                {% endif %}
                <span class="ui label {{ 'green' if task.complete else 'red' }}">
                    <i class="fa-solid {{ 'fa-check-circle' if task.complete else 'fa-hourglass-half' }}"></i>
                    {{ 'Completed' if task.complete else 'Pending' }}
                </span>
            </div>
            <div class="task-meta-right">
                <i class="fa-regular fa-clock"></i>
                <span>{% if task.end_time %}Ends: {{ task.end_time }}{% endif %}</span>
            </div>
        </div>
    </div>
</div>